{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Asus/source/repos/Frontend_Proyect_Personal/ESTREMOR/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/Users/user-service.service\";\nimport * as i2 from \"@angular/forms\";\nclass RegisterComponent {\n  constructor(userService, formBuilder) {\n    this.userService = userService;\n    this.formBuilder = formBuilder;\n    this.user = {\n      name: '',\n      image: \"\",\n      lastName: '',\n      secondLastName: '',\n      dateOfBirth: new Date(),\n      numberPhone: '',\n      document: '',\n      email: '',\n      password: '',\n      documentTypeId: 0,\n      addressId: 0,\n      rolId: 0\n    };\n    this.roles = [{\n      id: 1,\n      name: 'SuperAdmin'\n    }, {\n      id: 1,\n      name: 'Usuario de la pagina'\n    }];\n    this.documentTypes = [{\n      id: 1,\n      name: 'SuperAdmin'\n    }, {\n      id: 1,\n      name: 'Usuario de la pagina'\n    }];\n    this.imagePreview = '../../../';\n    this.registroForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      image: ['', Validators.required],\n      lastName: ['', Validators.required],\n      secondLastName: [''],\n      dateOfBirth: ['', Validators.required],\n      numberPhone: ['', Validators.required],\n      document: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required],\n      documentTypeId: ['', Validators.required],\n      addressId: ['', Validators.required],\n      rolId: ['', Validators.required]\n    });\n  }\n  get formControls() {\n    return this.registroForm.controls;\n  }\n  onFileChange(event) {\n    if (event.target.files && event.target.files.length > 0) {\n      const file = event.target.files[0];\n      this.registroForm.patchValue({\n        image: file\n      });\n    }\n  }\n  onSubmit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.registroForm.invalid) {\n        return;\n      }\n      const formData = new FormData();\n      const formValue = _this.registroForm.value;\n      Object.keys(formValue).forEach(key => {\n        if (key !== 'image') {\n          formData.append(key, formValue[key]);\n        } else {\n          formData.append(key, formValue[key], formValue[key].name);\n        }\n      });\n      try {\n        const response = yield _this.http.post('url_del_backend', formData).toPromise();\n        console.log('Usuario registrado correctamente');\n        // Realizar acciones adicionales después de registrar al usuario\n      } catch (error) {\n        console.error('Error al registrar al usuario', error);\n        // Manejar el error según sea necesario\n      }\n    })();\n  }\n}\n\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.UserServiceService), i0.ɵɵdirectiveInject(i2.FormGroup));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 0,\n  vars: 0,\n  template: function RegisterComponent_Template(rf, ctx) {},\n  styles: [\".container[_ngcontent-%COMP%] {\\n  max-width: 800px;\\n  margin: 0 auto;\\n}\\n\\n.register-form[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n\\n.form-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-wrap: wrap;\\n  justify-content: space-between;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  flex: 0 0 30%;\\n  margin-bottom: 20px;\\n}\\n\\n.uploaded-image[_ngcontent-%COMP%] {\\n  max-width: 200px;\\n  height: auto;\\n  margin-top: 10px;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  padding: 5px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9QYWdlcy9yZWdpc3Rlci9yZWdpc3Rlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0VBQ0EsY0FBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxlQUFBO0VBQ0EsOEJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgbWF4LXdpZHRoOiA4MDBweDtcclxuICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxuLnJlZ2lzdGVyLWZvcm0ge1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbi5mb3JtLXJvdyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4uZm9ybS1ncm91cCB7XHJcbiAgZmxleDogMCAwIDMwJTtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4udXBsb2FkZWQtaW1hZ2Uge1xyXG4gIG1heC13aWR0aDogMjAwcHg7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgcGFkZGluZzogNXB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { RegisterComponent };\nOnCreateUser();\n{}\nonImageUpload(event, any);\n{\n  const file = event.target.files[0];\n  if (file) {\n    const reader = new FileReader();\n    reader.onload = e => {\n      this.user.image = e.target.result;\n    };\n    reader.readAsDataURL(file);\n  }\n}\ncreateUser();\n{\n  this.userService.create(this.user).subscribe(reponse => {\n    console.log(reponse);\n  });\n}","map":{"version":3,"names":["Validators","RegisterComponent","constructor","userService","formBuilder","user","name","image","lastName","secondLastName","dateOfBirth","Date","numberPhone","document","email","password","documentTypeId","addressId","rolId","roles","id","documentTypes","imagePreview","registroForm","group","required","formControls","controls","onFileChange","event","target","files","length","file","patchValue","onSubmit","_this","_asyncToGenerator","invalid","formData","FormData","formValue","value","Object","keys","forEach","key","append","response","http","post","toPromise","console","log","error","i0","ɵɵdirectiveInject","i1","UserServiceService","i2","FormGroup","selectors","decls","vars","template","RegisterComponent_Template","rf","ctx","styles","OnCreateUser","onImageUpload","any","reader","FileReader","onload","e","result","readAsDataURL","createUser","create","subscribe","reponse"],"sources":["C:\\Users\\Asus\\source\\repos\\Frontend_Proyect_Personal\\ESTREMOR\\src\\app\\components\\Pages\\register\\register.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormGroup, Validators } from '@angular/forms';\nimport { DocumentTypeModel } from 'src/app/Models/DocumentType/DocumentTypeModel';\nimport { GetRolModel } from 'src/app/Models/Rol/RolModel';\nimport { CreateUserModel } from 'src/app/Models/Users/CreateUserModel';\nimport { UserServiceService } from 'src/app/services/Users/user-service.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent {\n  user: CreateUserModel = {\n    name: '',\n    image: \"\", // Asigna la imagen base64 obtenida a la propiedad \"image\"\n    lastName: '',\n    secondLastName: '',\n    dateOfBirth: new Date(),\n    numberPhone: '',\n    document: '',\n    email: '',\n    password: '',\n    documentTypeId: 0,\n    addressId: 0,\n    rolId: 0,\n  }\n  roles: GetRolModel[] =\n    [\n      {\n        id: 1,\n        name: 'SuperAdmin'\n      },\n      {\n        id: 1,\n        name: 'Usuario de la pagina'\n      }\n    ]\n    documentTypes: DocumentTypeModel[] =\n    [\n      {\n        id: 1,\n        name: 'SuperAdmin'\n      },\n      {\n        id: 1,\n        name: 'Usuario de la pagina'\n      }\n    ]\n    imagePreview:string = '../../../'\n    registroForm: FormGroup;\n  constructor(\n    private userService: UserServiceService,\n    private formBuilder:FormGroup\n  ) {\n    this.registroForm = this.formBuilder.group({\n      name: ['', Validators.required],\n      image: ['', Validators.required],\n      lastName: ['', Validators.required],\n      secondLastName: [''],\n      dateOfBirth: ['', Validators.required],\n      numberPhone: ['', Validators.required],\n      document: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required],\n      documentTypeId: ['', Validators.required],\n      addressId: ['', Validators.required],\n      rolId: ['', Validators.required]\n  }\n\n  }\n\n\n\n\n  get formControls() {\n    return this.registroForm.controls;\n  }\n\n  onFileChange(event: any) {\n    if (event.target.files && event.target.files.length > 0) {\n      const file = event.target.files[0];\n      this.registroForm.patchValue({\n        image: file\n      });\n    }\n  }\n\n  async onSubmit() {\n    if (this.registroForm.invalid) {\n      return;\n    }\n\n    const formData = new FormData();\n    const formValue = this.registroForm.value;\n\n    Object.keys(formValue).forEach(key => {\n      if (key !== 'image') {\n        formData.append(key, formValue[key]);\n      } else {\n        formData.append(key, formValue[key], formValue[key].name);\n      }\n    });\n\n    try {\n      const response = await this.http.post<Response<UserDTO>>('url_del_backend', formData).toPromise();\n      console.log('Usuario registrado correctamente');\n      // Realizar acciones adicionales después de registrar al usuario\n    } catch (error) {\n      console.error('Error al registrar al usuario', error);\n      // Manejar el error según sea necesario\n    }\n  }\n}\n\n\n\n\n\n  OnCreateUser(){\n\n  }\n  onImageUpload(event: any) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e: any) => {\n        this.user.image = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n  createUser() {\n    this.userService.create(this.user)\n      .subscribe(reponse => {\n        console.log(reponse)\n      });\n  }\n}\n\n\n"],"mappings":";AACA,SAAoBA,UAAU,QAAQ,gBAAgB;;;;AAMtD,MAKaC,iBAAiB;EAuC5BC,YACUC,WAA+B,EAC/BC,WAAqB;IADrB,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,WAAW,GAAXA,WAAW;IAxCrB,KAAAC,IAAI,GAAoB;MACtBC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,cAAc,EAAE,EAAE;MAClBC,WAAW,EAAE,IAAIC,IAAI,EAAE;MACvBC,WAAW,EAAE,EAAE;MACfC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,cAAc,EAAE,CAAC;MACjBC,SAAS,EAAE,CAAC;MACZC,KAAK,EAAE;KACR;IACD,KAAAC,KAAK,GACH,CACE;MACEC,EAAE,EAAE,CAAC;MACLd,IAAI,EAAE;KACP,EACD;MACEc,EAAE,EAAE,CAAC;MACLd,IAAI,EAAE;KACP,CACF;IACD,KAAAe,aAAa,GACb,CACE;MACED,EAAE,EAAE,CAAC;MACLd,IAAI,EAAE;KACP,EACD;MACEc,EAAE,EAAE,CAAC;MACLd,IAAI,EAAE;KACP,CACF;IACD,KAAAgB,YAAY,GAAU,WAAW;IAMjC,IAAI,CAACC,YAAY,GAAG,IAAI,CAACnB,WAAW,CAACoB,KAAK,CAAC;MACzClB,IAAI,EAAE,CAAC,EAAE,EAAEN,UAAU,CAACyB,QAAQ,CAAC;MAC/BlB,KAAK,EAAE,CAAC,EAAE,EAAEP,UAAU,CAACyB,QAAQ,CAAC;MAChCjB,QAAQ,EAAE,CAAC,EAAE,EAAER,UAAU,CAACyB,QAAQ,CAAC;MACnChB,cAAc,EAAE,CAAC,EAAE,CAAC;MACpBC,WAAW,EAAE,CAAC,EAAE,EAAEV,UAAU,CAACyB,QAAQ,CAAC;MACtCb,WAAW,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACyB,QAAQ,CAAC;MACtCZ,QAAQ,EAAE,CAAC,EAAE,EAAEb,UAAU,CAACyB,QAAQ,CAAC;MACnCX,KAAK,EAAE,CAAC,EAAE,EAAE,CAACd,UAAU,CAACyB,QAAQ,EAAEzB,UAAU,CAACc,KAAK,CAAC,CAAC;MACpDC,QAAQ,EAAE,CAAC,EAAE,EAAEf,UAAU,CAACyB,QAAQ,CAAC;MACnCT,cAAc,EAAE,CAAC,EAAE,EAAEhB,UAAU,CAACyB,QAAQ,CAAC;MACzCR,SAAS,EAAE,CAAC,EAAE,EAAEjB,UAAU,CAACyB,QAAQ,CAAC;MACpCP,KAAK,EAAE,CAAC,EAAE,EAAElB,UAAU,CAACyB,QAAQ;KAClC;EAED;EAKA,IAAIC,YAAYA,CAAA;IACd,OAAO,IAAI,CAACH,YAAY,CAACI,QAAQ;EACnC;EAEAC,YAAYA,CAACC,KAAU;IACrB,IAAIA,KAAK,CAACC,MAAM,CAACC,KAAK,IAAIF,KAAK,CAACC,MAAM,CAACC,KAAK,CAACC,MAAM,GAAG,CAAC,EAAE;MACvD,MAAMC,IAAI,GAAGJ,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAClC,IAAI,CAACR,YAAY,CAACW,UAAU,CAAC;QAC3B3B,KAAK,EAAE0B;OACR,CAAC;;EAEN;EAEME,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACZ,IAAID,KAAI,CAACb,YAAY,CAACe,OAAO,EAAE;QAC7B;;MAGF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;MAC/B,MAAMC,SAAS,GAAGL,KAAI,CAACb,YAAY,CAACmB,KAAK;MAEzCC,MAAM,CAACC,IAAI,CAACH,SAAS,CAAC,CAACI,OAAO,CAACC,GAAG,IAAG;QACnC,IAAIA,GAAG,KAAK,OAAO,EAAE;UACnBP,QAAQ,CAACQ,MAAM,CAACD,GAAG,EAAEL,SAAS,CAACK,GAAG,CAAC,CAAC;SACrC,MAAM;UACLP,QAAQ,CAACQ,MAAM,CAACD,GAAG,EAAEL,SAAS,CAACK,GAAG,CAAC,EAAEL,SAAS,CAACK,GAAG,CAAC,CAACxC,IAAI,CAAC;;MAE7D,CAAC,CAAC;MAEF,IAAI;QACF,MAAM0C,QAAQ,SAASZ,KAAI,CAACa,IAAI,CAACC,IAAI,CAAoB,iBAAiB,EAAEX,QAAQ,CAAC,CAACY,SAAS,EAAE;QACjGC,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;QAC/C;OACD,CAAC,OAAOC,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;QACrD;;IACD;EACH;;;AApGWrD,iBAAiB,C;mBAAjBA,iBAAiB,EAAAsD,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,kBAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,SAAA;AAAA;AAAjB3D,iBAAiB,C;QAAjBA,iBAAiB;EAAA4D,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;EAAAC,MAAA;AAAA;SAAjBnE,iBAAiB;AA2G5BoE,YAAY,EAAE;AAAA,C;AAGdC,aAAa,CAACzC,KAAK,EAAE0C,GAAG,CAAC;AAAC;EACxB,MAAMtC,IAAI,GAAGJ,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;EAClC,IAAIE,IAAI,EAAE;IACR,MAAMuC,MAAM,GAAG,IAAIC,UAAU,EAAE;IAC/BD,MAAM,CAACE,MAAM,GAAIC,CAAM,IAAI;MACzB,IAAI,CAACtE,IAAI,CAACE,KAAK,GAAGoE,CAAC,CAAC7C,MAAM,CAAC8C,MAAM;IACnC,CAAC;IACDJ,MAAM,CAACK,aAAa,CAAC5C,IAAI,CAAC;;;AAG9B6C,UAAU,EAAE;AAAC;EACX,IAAI,CAAC3E,WAAW,CAAC4E,MAAM,CAAC,IAAI,CAAC1E,IAAI,CAAC,CAC/B2E,SAAS,CAACC,OAAO,IAAG;IACnB7B,OAAO,CAACC,GAAG,CAAC4B,OAAO,CAAC;EACtB,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}