{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators, FormGroup } from '@angular/forms';\nimport { faRightFromBracket, faImage, faUser, faCalendar, faIdCard, faLocationDot, faEnvelope, faUsers, faPhone, faUserSecret } from '@fortawesome/free-solid-svg-icons';\nlet RegisterComponent = class RegisterComponent {\n  constructor(formBuilder, userService, router, fileService, dialog) {\n    this.formBuilder = formBuilder;\n    this.userService = userService;\n    this.router = router;\n    this.fileService = fileService;\n    this.dialog = dialog;\n    this.imagenSeleccionada = new File([], '');\n    this.imagenBase64 = '';\n    this.faUsers = faUsers;\n    this.faUser = faUser;\n    this.faPhone = faPhone;\n    this.faUserSecret = faUserSecret;\n    this.faEnvelope = faEnvelope;\n    this.faRightFromBracket = faRightFromBracket;\n    this.faLocationDot = faLocationDot;\n    this.faIdCard = faIdCard;\n    this.faCalendar = faCalendar;\n    this.faImage = faImage;\n    this.rutaArchivo = '';\n    this.form = new FormGroup('');\n    this.imagen = '';\n    this.buidForm();\n  }\n  buidForm() {\n    this.form = this.formBuilder.group({\n      name: ['Luis Andres', [Validators.required]],\n      image: [this.imagen, [Validators.required]],\n      lastName: ['Martinez', [Validators.required]],\n      secondLastName: ['Estremor', [Validators.required]],\n      dateOfBirth: ['2023-06-21', [Validators.required]],\n      documentTypeId: ['1', [Validators.required]],\n      document: ['901282344', [Validators.required]],\n      numberPhone: ['3209876565', [Validators.required, Validators.minLength(10), Validators.maxLength(10)]],\n      email: ['luisandres@gamil.com', [Validators.required, Validators.email]],\n      password: ['Hola123*', [Validators.required]],\n      address: ['Carrera 31 #65A-21', [Validators.required]],\n      rolId: ['1', [Validators.required]]\n    });\n  }\n  registerUser(event) {\n    if (this.form.valid) {\n      this.createUser();\n    } else {\n      this.form.markAllAsTouched();\n    }\n  }\n  createUser() {\n    const data = this.form.value;\n    data.image = this.rutaArchivo;\n    this.userService.create(data).subscribe(response => {\n      if (response) {\n        console.log('reespuesta Create', response);\n        this.router.navigate(['/users']);\n      }\n    });\n  }\n  uploadFile(event) {\n    const file = event.target.files[0];\n    let reader = new FileReader();\n    reader.onload = e => {\n      this.imagen = e.target.result; //base64\n    };\n\n    reader.readAsDataURL(file);\n    if (file) {\n      this.fileService.uploadImage(file).subscribe(response => {\n        if (response.succeeded) {\n          this.rutaArchivo = response.data;\n        }\n      });\n    }\n  }\n  onUpload(event) {\n    const element = event.target;\n    const file = element.files?.item(0);\n    if (file) {\n      this.fileService.uploadImage(file).subscribe(response => {\n        if (response.succeeded) {\n          this.rutaArchivo = response.data;\n        }\n      });\n    }\n  }\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})], RegisterComponent);\nexport { RegisterComponent };","map":{"version":3,"names":["Component","Validators","FormGroup","faRightFromBracket","faImage","faUser","faCalendar","faIdCard","faLocationDot","faEnvelope","faUsers","faPhone","faUserSecret","RegisterComponent","constructor","formBuilder","userService","router","fileService","dialog","imagenSeleccionada","File","imagenBase64","rutaArchivo","form","imagen","buidForm","group","name","required","image","lastName","secondLastName","dateOfBirth","documentTypeId","document","numberPhone","minLength","maxLength","email","password","address","rolId","registerUser","event","valid","createUser","markAllAsTouched","data","value","create","subscribe","response","console","log","navigate","uploadFile","file","target","files","reader","FileReader","onload","e","result","readAsDataURL","uploadImage","succeeded","onUpload","element","item","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Asus\\source\\repos\\Frontend_Proyect_Personal\\ESTREMOR\\src\\app\\components\\Pages\\register\\register.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormControl, Validators,FormGroup } from '@angular/forms';\nimport { CreateUserModel } from 'src/app/Models/Users/CreateUserModel';\nimport { UserServiceService } from 'src/app/services/Users/user-service.service';\nimport { faRightFromBracket, faImage,faUser, faCalendar, faIdCard, faLocationDot, faEnvelope, faXmark,faUsers,faPhone, faUserSecret} from '@fortawesome/free-solid-svg-icons';\nimport { Event, Router } from '@angular/router';\nimport { FireBaseService } from 'src/app/services/fireBase/fire-base.service';\nimport { FileService } from 'src/app/services/Files/file.service';\nimport { Containers } from 'src/containers';\n\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent {\n\n  imagenSeleccionada: File = new File([],'');\n  imagenBase64: string = '';\n  faUsers = faUsers;\n  faUser = faUser;\n  faPhone = faPhone;\n  faUserSecret = faUserSecret;\n  faEnvelope = faEnvelope;\n  faRightFromBracket = faRightFromBracket;\n  faLocationDot = faLocationDot;\n  faIdCard  = faIdCard;\n  faCalendar = faCalendar;\n  faImage = faImage;\n  rutaArchivo: string = '';\n  form:FormGroup = new FormGroup('');\n  imagen: string = '';\n\n\n  constructor\n  (\n    private formBuilder: FormBuilder,\n    private userService : UserServiceService,\n    private router: Router,\n    private fileService : FileService,\n    private dialog : Dialog\n  )\n  {\n    this.buidForm()\n  }\n\n  buidForm(){\n    this.form = this.formBuilder.group({\n        name: ['Luis Andres',[Validators.required]],\n        image : [this.imagen,[Validators.required]],\n        lastName: ['Martinez',[Validators.required]],\n        secondLastName: ['Estremor',[Validators.required]],\n        dateOfBirth: ['2023-06-21',[Validators.required]],\n        documentTypeId: ['1',[Validators.required]],\n        document: ['901282344',[Validators.required]],\n        numberPhone: ['3209876565',[Validators.required,Validators.minLength(10),Validators.maxLength(10)]],\n        email: ['luisandres@gamil.com',[Validators.required, Validators.email]],\n        password: ['Hola123*',[Validators.required]],\n        address: ['Carrera 31 #65A-21',[Validators.required]],\n        rolId:['1',[Validators.required]]\n    });\n  }\n\n  registerUser(event:any){\n    if(this.form.valid){\n      this.createUser();\n    }else{\n      this.form.markAllAsTouched();\n    }\n  }\n  createUser(){\n    const data = this.form.value;\n    data.image = this.rutaArchivo;\n    this.userService.create(data).\n    subscribe(response =>{\n      if(response){\n        console.log('reespuesta Create',response);\n        this.router.navigate(['/users'])\n      }\n    });\n\n  }\n\n  uploadFile(event: any){\n    const file = event.target.files[0];\n    let reader = new FileReader();\n    reader.onload = (e:any) =>{\n    this.imagen =  e.target.result; //base64\n  }\n    reader.readAsDataURL(file);\n\n    if(file){\n      this.fileService.uploadImage(file)\n      .subscribe(response =>{\n        if(response.succeeded){\n          this.rutaArchivo = response.data;\n        }\n      });\n    }\n  }\n\n  onUpload(event: any){\n    const element = event.target as HTMLInputElement;\n    const file = element.files?.item(0);\n\n    if(file){\n      this.fileService.uploadImage(file)\n      .subscribe(response =>{\n        if(response.succeeded){\n          this.rutaArchivo = response.data;\n        }\n      });\n    }\n  }\n\n\n  }\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}